# Criando maquinas
Starting instances: {'type-processor-d': 2}...
[1;35m[WARNING]: No inventory was parsed, only implicit localhost is available[0m
[1;35m[WARNING]: provided hosts list is empty, only localhost is available. Note that[0m
[1;35mthe implicit localhost does not match 'all'[0m

PLAY [localhost] ***************************************************************

TASK [Start instances (timeout 600 seconds)] ***********************************
[0;33mchanged: [localhost][0m

PLAY RECAP *********************************************************************
[0;33mlocalhost[0m                  : [0;32mok=1   [0m [0;33mchanged=1   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

[1;35m[WARNING]: No inventory was parsed, only implicit localhost is available[0m
[1;35m[WARNING]: provided hosts list is empty, only localhost is available. Note that[0m
[1;35mthe implicit localhost does not match 'all'[0m

PLAY [localhost] ***************************************************************

TASK [Tag EC2 instances] *******************************************************
[0;33mchanged: [localhost] => (item={'id': 'i-076e8bfe33a3f49f2', 'name': 'ansible-login-ubuntu-aws-config-us-east-1-node-17'})[0m
[0;33mchanged: [localhost] => (item={'id': 'i-0ca73ae83c1dd11cd', 'name': 'ansible-login-ubuntu-aws-config-us-east-1-node-18'})[0m

PLAY RECAP *********************************************************************
[0;33mlocalhost[0m                  : [0;32mok=1   [0m [0;33mchanged=1   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

Checking if nodes `node-17, node-18` are alive (retry: 1/10)
[1;35m[WARNING]: No inventory was parsed, only implicit localhost is available[0m
[1;35m[WARNING]: provided hosts list is empty, only localhost is available. Note that[0m
[1;35mthe implicit localhost does not match 'all'[0m

PLAY [localhost] ***************************************************************

TASK [Check AWS instance status] ***********************************************
[0;32mok: [localhost][0m

PLAY RECAP *********************************************************************
[0;32mlocalhost[0m                  : [0;32mok=1   [0m changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [all] *********************************************************************

TASK [Test SSH Connection] *****************************************************
[1;31mfatal: [node-17]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 54.152.205.14 port 22: Connection timed out", "unreachable": true}[0m
[1;31mfatal: [node-18]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 3.84.174.106 port 22: Connection timed out", "unreachable": true}[0m

PLAY RECAP *********************************************************************
[0;31mnode-17[0m                    : ok=0    changed=0    [1;31munreachable=1   [0m failed=0    skipped=0    rescued=0    ignored=0   
[0;31mnode-18[0m                    : ok=0    changed=0    [1;31munreachable=1   [0m failed=0    skipped=0    rescued=0    ignored=0   

Some nodes are not acessible by SSH yet... We will retry again after 15 seconds. Please wait...
Checking if nodes `node-17, node-18` are alive (retry: 2/10)
[1;35m[WARNING]: No inventory was parsed, only implicit localhost is available[0m
[1;35m[WARNING]: provided hosts list is empty, only localhost is available. Note that[0m
[1;35mthe implicit localhost does not match 'all'[0m

PLAY [localhost] ***************************************************************

TASK [Check AWS instance status] ***********************************************
[0;32mok: [localhost][0m

PLAY RECAP *********************************************************************
[0;32mlocalhost[0m                  : [0;32mok=1   [0m changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [all] *********************************************************************

TASK [Test SSH Connection] *****************************************************
[0;33mchanged: [node-18][0m
[0;33mchanged: [node-17][0m

PLAY RECAP *********************************************************************
[0;33mnode-17[0m                    : [0;32mok=1   [0m [0;33mchanged=1   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mnode-18[0m                    : [0;32mok=1   [0m [0;33mchanged=1   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [all] *********************************************************************

TASK [Gathering Facts] *********************************************************
[0;32mok: [node-17][0m

TASK [Instalando dependencias do EFS] ******************************************
[1;35m[WARNING]: Consider using the get_url or uri module rather than running 'wget'.[0m
[1;35mIf you need to use command because get_url or uri is insufficient you can add[0m
[1;35m'warn: false' to this command task or set 'command_warnings=False' in[0m
[1;35mansible.cfg to get rid of this message.[0m
[0;33mchanged: [node-17][0m

TASK [MONTA EFS] ***************************************************************
[1;35m[WARNING]: Consider using the mount module rather than running 'mount'.  If you[0m[1;35mthis message.[0m
[0;33mchanged: [node-17][0m

PLAY RECAP *********************************************************************

PLAY RECAP *********************************************************************
[0;33mnode-17[0m                    : [0;32mok=3   [0m [0;33mchanged=2   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

Executing in node `node-17` the command (via SSH): `touch worker.txt`
---------------------------------------- STD OUTPUT of `node-17` ----------------------------------------

---------------------------------------- ERR OUTPUT of `node-17` ----------------------------------------

--------------------------------------------------------------------------------

PLAY [all] *********************************************************************

TASK [Gathering Facts] *********************************************************
[0;32mok: [node-18][0m

TASK [Instalando dependencias do EFS] ******************************************
[1;35m[WARNING]: Consider using the get_url or uri module rather than running 'wget'.[0m[1;35mansible.cfg to get rid of this message.[0m
[0;33mchanged: [node-18][0m

TASK [MONTA EFS] ***************************************************************
[1;35m[WARNING]: Consider using the mount module rather than running 'mount'.  If you[0m
[1;35mneed to use command because mount is insufficient you can add 'warn: false' to[0m
[1;35mthis command task or set 'command_warnings=False' in ansible.cfg to get rid of[0m
[1;35mthis message.[0m
[0;33mchanged: [node-18][0m

PLAY RECAP *********************************************************************
[0;33mnode-18[0m                    : [0;32mok=3   [0m [0;33mchanged=2   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

Executing in node `node-18` the command (via SSH): `touch master.txt`
---------------------------------------- STD OUTPUT of `node-18` ----------------------------------------

---------------------------------------- ERR OUTPUT of `node-18` ----------------------------------------

--------------------------------------------------------------------------------

PLAY [all] *********************************************************************

TASK [Gera ssh] ****************************************************************
[0;33mchanged: [node-17][0m
[0;33mchanged: [node-18][0m

TASK [Pegar arquivo ssh do host] ***********************************************
[0;33mchanged: [node-18][0m
[0;33mchanged: [node-17][0m

TASK [faz pasta pros sshs] *****************************************************
[1;35m[WARNING]: Consider using the file module with state=directory rather than[0m[1;35mansible.cfg to get rid of this message.[0m
[0;33mchanged: [node-18][0m
[0;33mchanged: [node-17][0m

TASK [Fazendo upload ssh keys] *************************************************
[0;33mchanged: [node-18][0m
[0;33mchanged: [node-17][0m

TASK [Pegando script prepare_sshkeys.sh] ***************************************
[0;33mchanged: [node-18][0m
[0;33mchanged: [node-17][0m

TASK [Remove hosts file] *******************************************************
[0;32mok: [node-18][0m
[0;32mok: [node-17][0m

TASK [Create hosts file] *******************************************************
[0;33mchanged: [node-17][0m
[0;33mchanged: [node-18][0m

TASK [shell] *******************************************************************
[0;33mchanged: [node-18][0m
[0;33mchanged: [node-17][0m

TASK [Add Ansible inventory mappings to /home/ubuntu/hosts] ********************
[0;33mchanged: [node-17][0m
[0;33mchanged: [node-18][0m

TASK [Remove ips file] *********************************************************
[0;32mok: [node-18][0m
[0;32mok: [node-17][0m

TASK [Create ips file] *********************************************************
[0;33mchanged: [node-17][0m
[0;33mchanged: [node-18][0m

TASK [Add Ansible inventory mappings to ~/ips.sh] ******************************
[0;33mchanged: [node-17][0m
[0;33mchanged: [node-18][0m

TASK [Executa ips.sh] **********************************************************
[0;33mchanged: [node-17][0m
[0;33mchanged: [node-18][0m

PLAY RECAP *********************************************************************
[0;33mnode-17[0m                    : [0;32mok=13  [0m [0;33mchanged=11  [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mnode-18[0m                    : [0;32mok=13  [0m [0;33mchanged=11  [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


PLAY [all] *********************************************************************

TASK [Gathering Facts] *********************************************************
[0;32mok: [node-18][0m
[0;32mok: [node-17][0m

TASK [Cria pasta de resultados] ************************************************
[1;35mansible.cfg to get rid of this message.[0m
[0;33mchanged: [node-17][0m
[0;33mchanged: [node-18][0m

TASK [Download dos datasets] ***************************************************
[0;33mchanged: [node-17][0m
[0;33mchanged: [node-18][0m

TASK [preparando 1] ************************************************************
[1;35m[WARNING]: Consider using the apt module rather than running 'apt-get'.  If you[0m
[1;35mneed to use command because apt is insufficient you can add 'warn: false' to[0m
[1;35mthis command task or set 'command_warnings=False' in ansible.cfg to get rid of[0m
[1;35mthis message.[0m
[0;33mchanged: [node-17][0m
[0;33mchanged: [node-18][0m

TASK [preparando 2] ************************************************************
[0;33mchanged: [node-18][0m
[0;33mchanged: [node-17][0m

TASK [preparando 3] ************************************************************
[0;33mchanged: [node-18][0m
[0;33mchanged: [node-17][0m

TASK [preparando 4] ************************************************************
[0;33mchanged: [node-18][0m
[0;33mchanged: [node-17][0m

TASK [preparando 5] ************************************************************
[0;33mchanged: [node-18][0m
[0;33mchanged: [node-17][0m

TASK [preparando 6] ************************************************************
[0;33mchanged: [node-18][0m
[0;33mchanged: [node-17][0m

PLAY RECAP *********************************************************************
[0;33mnode-17[0m                    : [0;32mok=9   [0m [0;33mchanged=8   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mnode-18[0m                    : [0;32mok=9   [0m [0;33mchanged=8   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

Created cluster with id `cluster-5`. The cluster have 2 node(s)
*  Node(id=`node-17`, type=`type-processor-d`, status=`reachable`, public_ip=`54.152.205.14`, groups=`opm`, tags=`clusters=cluster-5; cluster_node_type=cluster-5:node-worker`, last_update=`12-06-20 17:08:33`
*  Node(id=`node-18`, type=`type-processor-d`, status=`reachable`, public_ip=`3.84.174.106`, groups=`opm`, tags=`clusters=cluster-5; cluster_node_type=cluster-5:node-master`, last_update=`12-06-20 17:08:33`
Cluster `cluster-5` was sucessfully setup.
# Cluster criado: cluster-5
# Master id: node-18
# Executando Datasets

PLAY [all] *********************************************************************

TASK [Gathering Facts] *********************************************************
[0;35m[DEPRECATION WARNING]: Distribution Ubuntu 18.04 on host node-18 should use [0m
[0;35m/usr/bin/python3, but is using /usr/bin/python for backward compatibility with [0m
[0;35mprior Ansible releases. A future Ansible release will default to using the [0m
[0;35mdiscovered platform python for this host. See https://docs.ansible.com/ansible/[0m
[0;35m2.9/reference_appendices/interpreter_discovery.html for more information. This [0m
[0;35mfeature will be removed in version 2.12. Deprecation warnings can be disabled [0m
[0;35mby setting deprecation_warnings=False in ansible.cfg.[0m
[0;32mok: [node-18][0m

TASK [Executando NORNE] ********************************************************
